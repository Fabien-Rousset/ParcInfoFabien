CREATE TABLE appareils(
   idAppareil INT AUTO_INCREMENT,
   libelle VARCHAR(30) NOT NULL,
   PRIMARY KEY(idAppareil)
);

CREATE TABLE personnes(
   idPersonne INT AUTO_INCREMENT,
   nom VARCHAR(30) NOT NULL,
   adresse VARCHAR(50) NOT NULL,
   telephone VARCHAR(15),
   dateNaissance DATE,
   prenom VARCHAR(25) NOT NULL,
   PRIMARY KEY(idPersonne)
);

CREATE TABLE Smartphone(
   idAppareil INT,
   estSmartphone BOOLEAN NOT NULL,
   PRIMARY KEY(idAppareil),
   FOREIGN KEY(idAppareil) REFERENCES appareils(idAppareil)
);

CREATE TABLE ordinateurs(
   idAppareil INT,
   estFixe BOOLEAN NOT NULL,
   PRIMARY KEY(idAppareil),
   FOREIGN KEY(idAppareil) REFERENCES appareils(idAppareil)
);

CREATE TABLE Peripheriques(
   idAppareil INT,
   type VARCHAR(25) NOT NULL,
   idAppareil_idOrdinateur INT,
   idAppareil_idSmartphone INT,
   PRIMARY KEY(idAppareil),
   FOREIGN KEY(idAppareil) REFERENCES appareils(idAppareil),
   FOREIGN KEY(idAppareil_idOrdinateur) REFERENCES ordinateurs(idAppareil),
   FOREIGN KEY(idAppareil_idSmartphone) REFERENCES Smartphone(idAppareil)
);

CREATE TABLE affecter(
   idAppareil INT,
   idPersonne INT,
   PRIMARY KEY(idAppareil, idPersonne),
   FOREIGN KEY(idAppareil) REFERENCES appareils(idAppareil),
   FOREIGN KEY(idPersonne) REFERENCES personnes(idPersonne)
);
